# (超爽中英!) 2024吴恩达最好的【ChatGPT提示词工程师】教程！附课件代码 DeepLearning.AI - P8：第8集 聊天机器人 - 吴恩达大模型 - BV1Wf421q7cd

![](img/2c20cf62fd539731b510746e438c3d2d_0.png)

关于大型语言模型的一个令人兴奋的事情是，您可以使用它来构建一个自定义聊天机器人，只需适度的努力，聊天GPT Web界面是一种让你拥有国家界面的方式。



![](img/2c20cf62fd539731b510746e438c3d2d_2.png)

基于大型语言模型的作文。

![](img/2c20cf62fd539731b510746e438c3d2d_4.png)

但有一件很酷的事情是，您还可以使用大型语言模型构建自定义聊天机器人。

![](img/2c20cf62fd539731b510746e438c3d2d_6.png)

也许扮演一个人工智能客服代理或餐馆的人工智能点菜员的角色。

![](img/2c20cf62fd539731b510746e438c3d2d_8.png)

在这个视频中，你将学习如何为自己做到这一点，我将更详细地描述打开ai聊天完成格式的组件。

![](img/2c20cf62fd539731b510746e438c3d2d_10.png)

![](img/2c20cf62fd539731b510746e438c3d2d_11.png)

然后你要自己造一个聊天机器人，所以让我们进入它，因此，首先我们将像往常一样设置openai python包，所以像聊天CBT这样的聊天模型实际上被训练成接受一系列消息作为输入。

并返回模型生成的消息作为输出，因此，尽管聊天格式是为了让像这样的多轮对话变得容易而设计的，我们已经看过之前的视频了，它对没有任何对话的单学期任务也同样有用，接下来我们要定义两个助手函数。



![](img/2c20cf62fd539731b510746e438c3d2d_13.png)

所以这是我们在所有视频中一直使用的，它是得到完成函数。

![](img/2c20cf62fd539731b510746e438c3d2d_15.png)

但如果你仔细看，我们给出提示，但在函数内部，我们实际上要做的是把这个提示放入看起来，嗯看起来像是某种用户信息，这是因为聊天CBT UM模型作为聊天模型，这意味着它被训练成接受一系列消息作为输入。

然后返回um模型生成的消息输出，所以用户消息是一种输入。

![](img/2c20cf62fd539731b510746e438c3d2d_17.png)

然后辅助消息是输出。

![](img/2c20cf62fd539731b510746e438c3d2d_19.png)

所以在这个视频中，我们实际上将使用一个不同的帮助函数，而不是把一个提示作为输入，得到一个完成。

![](img/2c20cf62fd539731b510746e438c3d2d_21.png)

我们将传递一系列信息。

![](img/2c20cf62fd539731b510746e438c3d2d_23.png)

这些信息可以来自各种不同的角色。

![](img/2c20cf62fd539731b510746e438c3d2d_25.png)

所以我来描述一下，下面是一个消息列表的示例，所以第一条信息是一个系统信息，它给出了一个全面的指令，在这条信息之后，我们有，在用户和助手之间切换，这种情况会继续下去。

如果你曾经使用过聊天CBT的Web界面，那么你--你的消息是用户消息，然后聊天GPT的消息是助手消息，因此，系统消息有助于设置助手的行为和角色，它对谈话起到了很高的指导作用。

所以你可以把它想象成在助手耳边窃窃私语，在用户不知道系统消息的情况下引导它响应。

![](img/2c20cf62fd539731b510746e438c3d2d_27.png)

所以作为用户，如果你曾经使用过聊天GBT，您可能不知道聊天gbt的系统消息中有什么，这就是我的意图，系统消息的好处，它为开发人员提供了一种框架对话的方法，在没有提出请求的情况下，谈话的一部分。

所以你可以引导助手在它耳边低语，并在不使用户意识到的情况下引导其响应。

![](img/2c20cf62fd539731b510746e438c3d2d_29.png)

所以现在让我们试着在对话中使用这些信息。

![](img/2c20cf62fd539731b510746e438c3d2d_31.png)

因此，我们将使用新的helper函数从消息中获得补全。

![](img/2c20cf62fd539731b510746e438c3d2d_33.png)

我们还使用了更高的温度，所以系统信息说你是一个说话像莎士比亚的助手，所以这是我们向助手描述它应该如何表现。



![](img/2c20cf62fd539731b510746e438c3d2d_35.png)

然后第一条用户信息告诉我一个笑话。

![](img/2c20cf62fd539731b510746e438c3d2d_37.png)

接下来是鸡为什么要过马路，然后最终的用户消息是。

![](img/2c20cf62fd539731b510746e438c3d2d_39.png)

我不知道，所以如果我们运行这个，到达另一边的反应，我们再试一次，才能到达彼岸，首先，莎拉夫人是一个古老的经典，从来没有失败过，所以有莎士比亚式的回应。



![](img/2c20cf62fd539731b510746e438c3d2d_41.png)

让我们再试一件事。

![](img/2c20cf62fd539731b510746e438c3d2d_43.png)

因为我想说得更清楚，嗯这是助理留言，所以在这里，让我们去打印，嗯，整个消息响应。

![](img/2c20cf62fd539731b510746e438c3d2d_45.png)

![](img/2c20cf62fd539731b510746e438c3d2d_46.png)

所以为了让这一点更清楚，嗯，此响应是辅助消息，所以作为助理的角色，然后内容就是信息本身。

![](img/2c20cf62fd539731b510746e438c3d2d_48.png)

这就是在这个helper函数中发生的事情，我们只是在传递信息的内容。

![](img/2c20cf62fd539731b510746e438c3d2d_50.png)

![](img/2c20cf62fd539731b510746e438c3d2d_51.png)

现在让我们再举一个例子，所以我们的信息是，系统消息为，你是个友好的聊天机器人，第一条用户消息是嗨，我叫伊莎，我们想，获取第一条用户消息，因此，让我们对第一个助手消息执行此操作。



![](img/2c20cf62fd539731b510746e438c3d2d_53.png)

所以第一条信息是你好，伊萨，很高兴见到你。

![](img/2c20cf62fd539731b510746e438c3d2d_55.png)

今天我能帮你什么忙吗。

![](img/2c20cf62fd539731b510746e438c3d2d_57.png)

现在让我们试试另一个例子，所以我们的信息是，嗯，系统消息。

![](img/2c20cf62fd539731b510746e438c3d2d_59.png)

你是个友好的聊天机器人，和第一条用户消息，是呀，你能提醒我，什么，我叫什么名字，让我们得到回应，如你所见，模特其实不知道我的名字。



![](img/2c20cf62fd539731b510746e438c3d2d_61.png)

因此，与语言模型的每个对话都是独立的交互，这意味着您必须提供所有相关的消息，以便模型在当前对话中从中提取。



![](img/2c20cf62fd539731b510746e438c3d2d_63.png)

如果你想让模型从，或引用未引用，记住对话的前面部分，您必须在模型的输入中提供早期的交换，所以我们将此称为上下文，所以让我们试试这个。



![](img/2c20cf62fd539731b510746e438c3d2d_65.png)

所以现在我们已经给出了模型需要的上下文。

![](img/2c20cf62fd539731b510746e438c3d2d_67.png)

嗯，在之前的留言里是我的名字，我们会问同样的问题。

![](img/2c20cf62fd539731b510746e438c3d2d_69.png)

所以我们会问我叫什么名字，模型能够响应，因为它有它需要的所有上下文，嗯，在我们输入给它的这种消息列表中。



![](img/2c20cf62fd539731b510746e438c3d2d_71.png)

所以现在你要建立你自己的聊天机器人，这个聊天机器人将被称为Autobot，我们将自动收集用户提示和助手响应，为了建造这个汽车人，它将在一家披萨餐馆接受点菜，首先我们要定义这个helper函数。



![](img/2c20cf62fd539731b510746e438c3d2d_73.png)

它所做的是，它会收集我们的用户信息，这样我们就不用用手打了，就像我们上面所做的那样。

![](img/2c20cf62fd539731b510746e438c3d2d_75.png)

这将从下面构建的用户界面中收集提示，然后将其追加到名为上下文的列表中，然后它每次都会调用具有该上下文的模型，然后模型响应也被添加到上下文中，因此，模型消息的类型被添加到上下文中。

用户消息被添加到上下文中，所以它只是长得越来越长。

![](img/2c20cf62fd539731b510746e438c3d2d_77.png)

这边请，模型有确定下一步做什么所需的信息，所以现在，我们将设置并运行这种用户界面来显示汽车人。

![](img/2c20cf62fd539731b510746e438c3d2d_79.png)

所以背景是这样的，它包含包含菜单的系统消息，并注意每次我们调用语言模型时，我们将使用相同的上下文，上下文随着时间的推移而积累。



![](img/2c20cf62fd539731b510746e438c3d2d_81.png)

![](img/2c20cf62fd539731b510746e438c3d2d_82.png)

然后让我们执行这个。

![](img/2c20cf62fd539731b510746e438c3d2d_84.png)

好的，好的，我去打个招呼，我想订一个披萨，助理说很好，您想点什么比萨饼？我们有意大利辣香肠奶酪和茄子披萨。



![](img/2c20cf62fd539731b510746e438c3d2d_86.png)

嗯哼，多少钱？

![](img/2c20cf62fd539731b510746e438c3d2d_88.png)

好极了，好啦，我们有价格，我想我感觉到一个中号茄子，披萨。

![](img/2c20cf62fd539731b510746e438c3d2d_90.png)

![](img/2c20cf62fd539731b510746e438c3d2d_91.png)

所以你可以想象，我们可以继续这个对话。

![](img/2c20cf62fd539731b510746e438c3d2d_93.png)

让我们看看我们在系统消息中添加了什么，所以你是在为披萨店收集订单的自动化服务，你先招呼客人，然后收集订单，然后再问是取货还是送货，你等着领取整个订单，然后总结一下，最后检查一次，如果客户想添加其他内容。

如果是快递的话，你可以问一个地址，最后你收了钱，确保澄清所有选项，从菜单中唯一标识项的附加项和大小。

![](img/2c20cf62fd539731b510746e438c3d2d_95.png)

你是个污点，你以简短的方式回应，非常健谈，菜单包括友好的风格，然后这里是菜单。

![](img/2c20cf62fd539731b510746e438c3d2d_97.png)

所以让我们回到我们的谈话。

![](img/2c20cf62fd539731b510746e438c3d2d_99.png)

嗯，让我们看看助手是否遵循了指示。

![](img/2c20cf62fd539731b510746e438c3d2d_101.png)

好的很好，助手问我们是否需要我们在系统消息中指定的浇头。

![](img/2c20cf62fd539731b510746e438c3d2d_103.png)

所以我想我们不需要额外的浇头。

![](img/2c20cf62fd539731b510746e438c3d2d_105.png)

当然有东西，我们还要点什么吗？

![](img/2c20cf62fd539731b510746e438c3d2d_107.png)

嗯，我们去喝点水，其实呢。

![](img/2c20cf62fd539731b510746e438c3d2d_109.png)

薯条。

![](img/2c20cf62fd539731b510746e438c3d2d_111.png)

小的或大的。

![](img/2c20cf62fd539731b510746e438c3d2d_113.png)

这很棒，因为我们有点，嗯，请系统消息中的助手澄清额外的和方面。

![](img/2c20cf62fd539731b510746e438c3d2d_115.png)

![](img/2c20cf62fd539731b510746e438c3d2d_116.png)

所以你明白了，请随意自己玩这个。

![](img/2c20cf62fd539731b510746e438c3d2d_118.png)

嗯，你可以暂停视频，把这个记在你左边的笔记本上。

![](img/2c20cf62fd539731b510746e438c3d2d_120.png)

所以现在我们可以要求模型创建一个JSON摘要，我们可以根据对话发送到订单系统，所以我们现在添加另一条系统消息，它是一个指令，我们是说创建一个JSON总结以前的食物订单，逐项列出每件商品的价格。

田地应该是一个披萨，包括侧面，两份配料清单，三份饮料清单，和四个边的列表，最后是总价。

![](img/2c20cf62fd539731b510746e438c3d2d_122.png)

你也可以在这里使用用户消息。

![](img/2c20cf62fd539731b510746e438c3d2d_124.png)

这不一定是系统消息，让我们执行这个，注意在这个例子中，我们使用了一个较低的温度。

![](img/2c20cf62fd539731b510746e438c3d2d_126.png)

因为对于这些类型的任务，我们希望输出是相当可预测的，对于会话代理来说，你可能想用更高的温度，然而，在这种情况下，我可能会使用较低的温度以及。



![](img/2c20cf62fd539731b510746e438c3d2d_128.png)

因为对于一个客户助理来说。

![](img/2c20cf62fd539731b510746e438c3d2d_130.png)

您可能还希望输出更可预测一点。

![](img/2c20cf62fd539731b510746e438c3d2d_132.png)

所以这里我们有我们订单的摘要，所以我们可以把这个提交给订单系统。

![](img/2c20cf62fd539731b510746e438c3d2d_134.png)

如果我们想，所以我们有了它，你已经建立了自己的订单聊天机器人，你可以自己定制，并玩弄系统消息来改变聊天机器人的行为。



![](img/2c20cf62fd539731b510746e438c3d2d_136.png)