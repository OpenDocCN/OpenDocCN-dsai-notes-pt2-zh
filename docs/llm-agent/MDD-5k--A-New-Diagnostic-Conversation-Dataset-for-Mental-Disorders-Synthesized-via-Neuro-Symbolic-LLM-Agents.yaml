- en: <!--yml
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: <!--yml
- en: 'category: 未分类'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 分类：未分类
- en: 'date: 2024-09-08 18:38:34'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 日期：2024-09-08 18:38:34
- en: -->
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: -->
- en: 'MDD-5k: A New Diagnostic Conversation Dataset for Mental Disorders Synthesized
    via Neuro-Symbolic LLM Agents'
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MDD-5k：通过神经符号LLM智能体合成的心理疾病诊断对话数据集
- en: 来源：[https://ar5iv.labs.arxiv.org/html/2408.12142](https://ar5iv.labs.arxiv.org/html/2408.12142)
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 来源：[https://ar5iv.labs.arxiv.org/html/2408.12142](https://ar5iv.labs.arxiv.org/html/2408.12142)
- en: Congchi Yin^(1,2†), Feng Li¹, Shu Zhang¹, Zike Wang^(1†), Jun Shao^(1‡), Piji
    Li,
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 孙昌池^(1,2†)、李峰¹、张舒¹、王子克^(1†)、邵军^(1‡)、李皮吉，
- en: Jianhua Chen^(3,4,5,6‡), Xun Jiang¹
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 陈建华^(3,4,5,6‡)、姜勋¹
- en: Abstract
  id: totrans-8
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 摘要
- en: The clinical diagnosis of most mental disorders primarily relies on the conversations
    between psychiatrist and patient. The creation of such diagnostic conversation
    datasets is promising to boost the AI mental healthcare community. However, directly
    collecting the conversations in real diagnosis scenarios is near impossible due
    to stringent privacy and ethical considerations. To address this issue, we seek
    to synthesize diagnostic conversation by exploiting anonymous patient cases that
    are easier to access. Specifically, we design a neuro-symbolic multi-agent framework
    for synthesizing the diagnostic conversation of mental disorders with large language
    models. It takes patient case as input and is capable of generating multiple diverse
    conversations with one single patient case. The framework basically involves the
    interaction between a doctor agent and a patient agent, and achieves text generation
    under symbolic control via a dynamic diagnosis tree from a tool agent. By applying
    the proposed framework, we develop the largest Chinese mental disorders diagnosis
    dataset MDD-5k, which is built upon 1000 cleaned real patient cases by cooperating
    with a pioneering psychiatric hospital, and contains 5000 high-quality long conversations
    with diagnosis results as labels. To the best of our knowledge, it’s also the
    first labelled Chinese mental disorders diagnosis dataset. Human evaluation demonstrates
    the proposed MDD-5k dataset successfully simulates human-like diagnostic process
    of mental disorders. The dataset and code will become publicly accessible in https://github.com/lemonsis/MDD-5k.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数心理疾病的临床诊断主要依赖于精神科医生与患者之间的对话。创建这样的诊断对话数据集有望推动人工智能心理健康护理领域的发展。然而，由于严格的隐私和伦理考虑，直接在真实诊断场景中收集对话几乎是不可能的。为了解决这个问题，我们寻求通过利用更易获取的匿名患者病例来合成诊断对话。具体而言，我们设计了一个神经符号多智能体框架，用于使用大语言模型合成心理疾病的诊断对话。该框架以患者病例为输入，并能够生成多个多样化的对话。该框架基本上涉及医生智能体和患者智能体之间的互动，并通过工具智能体的动态诊断树在符号控制下实现文本生成。通过应用所提出的框架，我们开发了中国最大的心理疾病诊断数据集MDD-5k，该数据集基于与一家开创性的精神病医院合作的1000个真实患者病例，包含5000个高质量的长对话，并以诊断结果作为标签。根据我们的知识，它也是首个标注的中文心理疾病诊断数据集。人工评估表明，所提出的MDD-5k数据集成功模拟了类似人类的心理疾病诊断过程。数据集和代码将在[https://github.com/lemonsis/MDD-5k](https://github.com/lemonsis/MDD-5k)上公开访问。
- en: '²²footnotetext: Work done during an internship.³³footnotetext: Corresponding
    authors.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: ²²脚注：实习期间完成的工作。³³脚注：通讯作者。
- en: Introduction
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 介绍
- en: Mental health issues have garnered increasing attention in recent years. According
    to the statistics of World Health Organization (WHO), one in every eight people
    in the world lived with a mental disorder in 2019, and people living with anxiety
    and depressive disorders kept rising significantly because of the COVID-19 pandemic
    (Organization et al. [2022](#bib.bib14)). With the recent progress of large language
    models (LLMs) (Ouyang et al. [2022](#bib.bib15); OpenAI [2024](#bib.bib11)), which
    emerges capabilities of relevant context incorporation and human-like text generation,
    many researchers turn to building conversational AI system for mental healthcare.
    Current implementations can be divided into two categories, finetuning a small
    model (e.g. Llama2-7B (Touvron et al. [2023](#bib.bib18))) with physician-patient
    conversations (EmoLLM [2024](#bib.bib5); Yang et al. [2024b](#bib.bib24); Liu
    et al. [2023](#bib.bib9)) or building prompt-based physician-patient role-playing
    framework (Wang et al. [2024a](#bib.bib21); Zhang et al. [2024](#bib.bib26)) with
    state-of-the-art language models (e.g. ChatGPT (Ouyang et al. [2022](#bib.bib15))).
    Regardless of the method employed, domain-specific mental health datasets play
    a fundamental and indispensable role.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 心理健康问题近年来获得了越来越多的关注。根据世界卫生组织（WHO）的统计数据，在2019年，全球每八个人中就有一个人生活在心理疾病中，而由于COVID-19大流行，焦虑症和抑郁症患者人数显著增加（Organization
    et al. [2022](#bib.bib14)）。随着大型语言模型（LLMs）的最新进展（Ouyang et al. [2022](#bib.bib15);
    OpenAI [2024](#bib.bib11)），它们展现了相关上下文整合和类人文本生成的能力，许多研究者开始着手构建用于心理健康护理的对话式人工智能系统。目前的实现可以分为两类，一类是通过医生-患者对话对小型模型（例如
    Llama2-7B（Touvron et al. [2023](#bib.bib18)））进行微调（EmoLLM [2024](#bib.bib5); Yang
    et al. [2024b](#bib.bib24); Liu et al. [2023](#bib.bib9)），另一类是基于提示的医生-患者角色扮演框架（Wang
    et al. [2024a](#bib.bib21); Zhang et al. [2024](#bib.bib26)），使用最先进的语言模型（例如 ChatGPT（Ouyang
    et al. [2022](#bib.bib15)））。无论采用何种方法，领域特定的心理健康数据集都发挥了基础性和不可或缺的作用。
- en: '![Refer to caption](img/2192da78d9e74bdebf3632c17097d1a5.png)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/2192da78d9e74bdebf3632c17097d1a5.png)'
- en: 'Figure 1: Illustration of previous one-to-one patientcase-to-dialogue generation
    and our proposed one-to-many-patientcase-to-dialogue generation framework.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 图1：展示了之前的一对一患者案例到对话生成和我们提出的一对多患者案例到对话生成框架。
- en: We focus on diagnostic conversation dataset for mental disorders in this work.
    The clinical diagnosis of mental disorders differs from other diseases in that
    it primarily relies on the mental status examination of patients, which is reflected
    through conversations between psychiatrists and patients rather than physiological
    indices (First [2014](#bib.bib6)). Therefore, the collection of mental disorders
    diagnostic conversation is promising to facilitate a variety of downstream tasks
    in AI mental health research like auxiliary diagnosis chatbot, mental disorders
    classification, etc. However, while many previous studies (Sun et al. [2021](#bib.bib17);
    Chen et al. [2023b](#bib.bib4)) focused on emotional support or psychological
    counseling data, few work shed light on diagnostic conversations of mental disorders.
    This can be attributed to two main factors. First, diagnostic conversations in
    real scenarios are extremely hard to acquire due to the privacy and ethical consideration.
    Second, synthesizing diagnostic conversations from scratch is also challenging.
    Unlike psychological counseling or empathetic dialogue, diagnosis follows standardized
    process and requires professional medical knowledge. Consequently, directly employing
    LLMs for data synthesis in this context often yields poor outcomes (Tu et al.
    [2024](#bib.bib19)). $\text{D}^{4}$ (Yao et al. [2022](#bib.bib25)) made the first
    attempt by simulating diagnostic conversations with employed workers. However,
    it only covers depressive disorder and entirely depends on human annotation. The
    generated content is also short and far from similar to diagnostic conversations
    in real scenarios.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在这项工作中专注于精神障碍的诊断对话数据集。精神障碍的临床诊断不同于其他疾病，因为它主要依赖于患者的心理状态评估，这通过精神科医生与患者之间的对话体现出来，而不是生理指标（First
    [2014](#bib.bib6)）。因此，收集精神障碍诊断对话有望促进AI心理健康研究中的多种下游任务，如辅助诊断聊天机器人、精神障碍分类等。然而，尽管许多之前的研究（Sun
    et al. [2021](#bib.bib17); Chen et al. [2023b](#bib.bib4)）关注于情感支持或心理咨询数据，但很少有工作关注精神障碍的诊断对话。这可以归因于两个主要因素。首先，由于隐私和伦理问题，真实场景中的诊断对话极难获取。其次，从零开始合成诊断对话也很具挑战性。与心理咨询或共情对话不同，诊断遵循标准化过程并需要专业医学知识。因此，直接在这种情况下使用LLMs进行数据合成通常会导致较差的结果（Tu
    et al. [2024](#bib.bib19)）。$\text{D}^{4}$（Yao et al. [2022](#bib.bib25)）首次尝试通过模拟雇员的诊断对话。然而，它仅覆盖抑郁症，并完全依赖于人工标注。生成的内容也较短，远未与真实场景中的诊断对话相似。
- en: 'We propose a neuro-symbolic multi-agent framework that takes patient cases
    as input to synthesize diagnostic conversations of mental disorders. The framework
    involves three types of large language model agents: a doctor agent, a patient
    agent, and a symbolic tool agent responsible for managing diagnostic topic shift.
    This framework features two major innovations: (i) One-to-many patientcase-to-dialogue
    generation that maximizes the utilization of precious real patient cases. As shown
    in Figure [1](#Sx1.F1 "Figure 1 ‣ Introduction ‣ MDD-5k: A New Diagnostic Conversation
    Dataset for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents"), unlike
    previous studies (Zhang et al. [2024](#bib.bib26); Wang et al. [2024a](#bib.bib21))
    that generate one conversation with one patient case. Our proposed framework is
    capable of generating multiple diverse diagnostic conversations with one single
    patient case. Specifically, three methods ensure the diversity and correctness
    of diagnostic process. First, doctor agents with different diagnosis habits are
    designed and randomly selected for each conversation. Second, we use LLM with
    knowledge graph to generate multiple fictitious patient experiences based on one
    patient case. The patient experiences serve as background information for patient
    agents during generation. Since the diagnosis of mental disorders mainly relies
    on symptoms rather than concrete events, integrating the fictitious patient experiences
    enhances the diversity of synthesized conversation while maintaining the accuracy
    of the diagnostic process. Third, the sequence of diagnostic topics is randomly
    determined for each conversation. (ii) Another significant innovation lies in
    text generation under symbolic control via a dynamic diagnosis tree. This tree
    consists of a fixed symptom inquiry tree and a dynamic experience inquiry tree.
    Clinical diagnosis of mental disorders strictly follows standards from ICD-11
    (Organization et al. [2018](#bib.bib13)) or DSM-5 (American Psychiatric Association
    et al. [2013](#bib.bib1)). To simulate this process, we design the fixed symptom
    inquiry tree based on Structured Clinical Interview for DSM-5 (SCID-5) (First
    [2014](#bib.bib6)), covering all the diagnostic topics for important symptoms
    inquiry. The experience inquiry tree is constructed by extracting possible topics
    from patient’s response of past experiences. It’s designed to establish deeper
    engagements with the patient.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: By applying the proposed framework, we release the largest Chinese Mental Disorder
    Diagnosis dataset MDD-5k. It’s also the first labelled mental disorders diagnostic
    conversation dataset with diagnosis results from professional psychiatrists. MDD-5k
    contains 5000 high-quality diagnostic conversations, with an averaged 26.8 turns
    and 6906.8 Chinese words per dialogue. It is built upon 1000 real patient cases
    from a pioneering psychiatric hospital, covering more than 25 different diseases.
    All the patient cases have been cleaned and filtered in accordance with global
    standards to ensure the complete protection of patient private information. The
    MDD-5k dataset will become publicly accessible when the ethical review finishes.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: 'The contributions of this work can be summarized as:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: •
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We specially design a neuro-symbolic multi-agent framework for synthesizing
    diagnostic conversation of mental disorders, which features controllable and diverse
    one-to-many patientcase-to-dialogue generation.
  id: totrans-20
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: •
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The largest Chinese mental disorders diagnosis dataset MDD-5k is proposed, which
    contains 5000 high-quality long conversations with convincing diagnosis results
    as labels. To the best of our knowledge, it’s also the first mental disorders
    diagnosis dataset with labels.
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: •
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Comprehensive human evaluation shows the proposed MDD-5k dataset outperforms
    several compared datasets in professionalism, communication skills, fluency, safety,
    and mirrors human-like diagnostic process.
  id: totrans-24
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Related Work
  id: totrans-25
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Mental Health Dataset
  id: totrans-26
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Corpora of physician-patient conversations focused on mental health are crucial
    for AI mental healthcare research, especially in the large language model era.
    We divide current mental health datasets into three categories based on the degree
    of required professional knowledge. Emotional support datasets feature empathetic
    dialogue and comfort. ESconv dataset (Liu et al. [2021](#bib.bib10)) consists
    of 1300 conversations covering 10 topics. SoulChatCorpus (Chen et al. [2023b](#bib.bib4))
    contains over 2 million single-turn and multi-turn conversations generated by
    ChatGPT. Psychological counseling datasets typically contain more domain knowledge
    than common emotional support dataset. The Emotional First Aid Raw dataset (Wang
    [2024](#bib.bib20)) is built by crawling from psychological counseling websites
    and communities. PsyQA (Sun et al. [2021](#bib.bib17)) is a single-turn Chinese
    dataset annotated by human. SmileChat dataset (Qiu et al. [2024](#bib.bib16))
    expands PsyQA to multi-turn through ChatGPT. CPsyCounD (Zhang et al. [2024](#bib.bib26))
    contains 3134 counseling conversations generated by the same number of psychological
    counseling reports. Diagnosis datasets aim to simulate diagnostic conversation
    of professional psychiatrists. $\text{D}^{4}$ (Yao et al. [2022](#bib.bib25))
    is a Chinese depression diagnosis dataset built by human annotators and supervised
    by psychiatrists. There are also some medical dialogue datasets, like MedDialog
    (He et al. [2020](#bib.bib7)), MTS-Dialog (Ben Abacha et al. [2023](#bib.bib2)),
    ChatDoctor (Li et al. [2023](#bib.bib8)), which encompass a broader range of medical
    fields.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: Mental Disorders Conversation Simulation
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: We mainly focus on the tuning-free prompting frameworks for mental disorders
    conversation simulation. Chen et al. ([2023a](#bib.bib3)) conducted a comprehensive
    analysis on the feasibility of utilizing LLM chatbots in diagnostic conversation.
    Wang et al. ([2024b](#bib.bib22)) proposed to simulate patient agent that integrates
    cognitive modeling with LLM, and applied this patient agent in cognitive behavior
    therapy (CBT) training. Wang et al. ([2024a](#bib.bib21)) built a planning and
    role-playing method to generate dialogue from clinical note, and proposed a dataset
    of synthetic patient-physician conversations. Zhang et al. ([2024](#bib.bib26))
    introduced Memo2Demo framework which converts counseling report to counseling
    note and then applies it to generate conversations. Tu et al. ([2024](#bib.bib19))
    designed AIME framework which uses a self-play based simulated environment with
    automated feedback for diagnostic conversation generation.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
- en: Methodology
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The synthesis process of mental disorders diagnostic conversations is presented.
    The neuro-symbolic multi-agent framework features one-to-many patientcase-to-dialogue
    generation, indicating multiple generated conversations are based on the same
    patient case. As shown in Figure [2](#Sx3.F2 "Figure 2 ‣ Fictitious Patient Experience
    Generation ‣ Methodology ‣ MDD-5k: A New Diagnostic Conversation Dataset for Mental
    Disorders Synthesized via Neuro-Symbolic LLM Agents"), the framework basically
    involves the interactions among a doctor agent, a patient agent, and a tool agent.
    All the agents are played by large language models (LLMs). The doctor agent controlled
    by a dynamic diagnosis tree leads the diagnostic topic shift of the whole conversation.
    The patient agent responds to the doctor agent based on the preprocessed patient
    case and fictitious patient experience generated by the tool agent. The tool agent
    is also responsible for the several symbolic operations of dynamic diagnosis tree.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: Patient Cases Preprocessing
  id: totrans-32
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The quality of patient cases is vital to the diagnostic conversation synthesis.
    We cooperate with a pioneering psychiatric hospital and obtain over 1000 real
    cases of patients with mental disorders. All these patient cases have undergone
    data masking to prevent the leakage of sensitive personal information. The data
    masking process follows the standards below: (i) Private information of patients
    (e.g. name, date of birth, date of examination, etc.) is removed from the patient
    case. (ii) Patient age is rounded to the nearest ten. For example, the age of
    a 24-year-old patient is 20 on the preprocessed patient case. (iii) All the concrete
    locations are replaced with vague ones. The above preprocessing steps strictly
    follow the Chinese information security technology guide for health data security
    (GB/T 39725-2020). A complete cleaned patient case is illustrated in Appendix.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: 'After filtering repetitive or incomplete patient cases, the final version for
    diagnostic conversation simulation and dataset generation contains 1000 patient
    cases with age, gender, diagnosis and corresponding International Classification
    of Diseases (ICD-10) (Organization [2004](#bib.bib12)) code, chief complaint,
    history of present illness, important past medical history, family history, personal
    history, mental examination, and treatment. As shown in Figure [2](#Sx3.F2 "Figure
    2 ‣ Fictitious Patient Experience Generation ‣ Methodology ‣ MDD-5k: A New Diagnostic
    Conversation Dataset for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents"),
    the patient case is structurized as key-value pairs.'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
- en: Fictitious Patient Experience Generation
  id: totrans-35
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: We perform one-to-many patientcase-to-dialogue generation, which indicates one
    patient case will be applied to generate multiple diagnostic conversations. One
    key factor contributes to the diversity of generated conversations is the patient
    experience. It specifically refers to the past experiences that directly or indirectly
    lead to the mental illness problem of patients in this paper. The diagnosis of
    mental disorders differs from other illnesses in that it mainly depends on the
    conversations between psychiatrists and patients instead of physiological indices.
    Psychiatrists provide diagnosis result and treatment based on the acquired symptoms
    of patients during communicating. As a result, if the correspondence between symptoms
    and diagnosis can be assured, the correctness and quality of the synthesized diagnostic
    conversation is guaranteed and is not affected by detailed patient experience.
    In this sense, it’s feasible to generate multiple patient experiences with one
    patient case for synthesizing multiple diagnostic conversations.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/23a04dca8a1e0384ee26fc322758f897.png)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
- en: 'Figure 2: The neuro-symbolic multi-agent framework for synthesizing diagnostic
    conversation of mental disorders.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
- en: Large language model (LLM) is applied to generate fictitious patient experience.
    To avoid the counterfactual conflicts between fictitious patient experience and
    true patient case, gender, age, work and diagnosis (Dx) information from one patient
    case is extracted and serves as patient persona in the prompt for generating patient
    experience.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
- en: '|  | $\text{Persona}=\textit{Prompt}(\text{Gender},\text{Age},\text{Work},\text{Dx})$
    |  | (1) |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
- en: 'In Equation ([1](#Sx3.E1 "In Fictitious Patient Experience Generation ‣ Methodology
    ‣ MDD-5k: A New Diagnostic Conversation Dataset for Mental Disorders Synthesized
    via Neuro-Symbolic LLM Agents")), the function Prompt indicates concatenating
    keywords into proper prompt. Next, we build knowledge graphs containing time,
    people, and concrete event that might cause mental disorders according to different
    patient age and gender. The example in Figure [2](#Sx3.F2 "Figure 2 ‣ Fictitious
    Patient Experience Generation ‣ Methodology ‣ MDD-5k: A New Diagnostic Conversation
    Dataset for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents") shows
    the predefined knowledge graph for 20-year-old female. The triplet $(\text{Time},\text{People},\text{Event})$
    is randomly selected from the graph for fictitious experience generation.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
- en: '|  | $\text{FicExp}=\textit{Prompt}(\text{Time},\text{People},\text{Event})$
    |  | (2) |'
  id: totrans-42
  prefs: []
  type: TYPE_TB
- en: The final patient experience (FicExp) is generated through LLM by combining
    patient persona.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
- en: '|  | $\text{FicExp}=\textit{LLM}(\textit{Prompt}(\text{Persona},\text{FicExp}))$
    |  | (3) |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
- en: Neuro-Symbolic Dynamic Diagnosis Tree
  id: totrans-45
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'To imitate conversations in real scenarios where the psychiatrist leads the
    entire diagnostic process, we design a neuro-symbolic dynamic diagnosis tree to
    achieve diagnostic topic shift and controllable doctor response generation. The
    dynamic diagnosis tree consists of a symptom inquiry tree and an experience inquiry
    tree. As shown in the example of Figure [2](#Sx3.F2 "Figure 2 ‣ Fictitious Patient
    Experience Generation ‣ Methodology ‣ MDD-5k: A New Diagnostic Conversation Dataset
    for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents"), the symptom
    inquiry tree is fixed and built according to the Structured Clinical Interview
    for DSM-5 (SCID-5) (First [2014](#bib.bib6)) and guidance from professional psychiatrists.
    It aims to cover inquiries about all the relevant symptoms to arrive at the final
    diagnosis of a patient. Considering the gender and age differences, the symptom
    inquiry tree is specially designed for male and female, teenagers (people under
    20), adults (people aged between 30 and 50) and elders (people over 60). The example
    in Figure [2](#Sx3.F2 "Figure 2 ‣ Fictitious Patient Experience Generation ‣ Methodology
    ‣ MDD-5k: A New Diagnostic Conversation Dataset for Mental Disorders Synthesized
    via Neuro-Symbolic LLM Agents") shows the symptom inquiry tree for female teenager.'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: The experience inquiry tree dynamically constructs itself based on patient’s
    response regarding previous experiences and personal details. It is described
    as “dynamic” since each patient provides unique information about their background.
    A tool agent powered by LLM is responsible for parsing patient’s response and
    creating corresponding topics which form the nodes of the experience inquiry tree.
    The parse process follows a depth-first manner. When the tool agent determines
    that the discussion around a specific topic is insufficient, it will keep parsing
    this topic to sub-topics until conversation around this topic is considered complete.
    Then it will move to the next parsed topic. The design of experience inquiry tree
    aims to establish deeper engagements with patients to facilitate diagnostic conversation.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
- en: 'The neuro-symbolic dynamic diagnosis tree is managed by the tool agent and
    offers operations for guiding both the doctor agent and the patient agent. Some
    operations are implemented by LLM and some are by rules. We first define five
    data types: Text, LNode, Tree, Graph, Bool. Text refers to natural language text.
    LNode stands for the leaf node of a dynamic diagnosis tree, indicating diagnostic
    topic in conversation. Tree refers to the hierarchical tree structure with a set
    of connected nodes. Although LNode can be viewed as a special Tree or Text, we
    treat it as a separate data type for clearer expression. Graph specifically refers
    to the knowledge graph for fictitious patient experience generation as explained
    before. Bool is a boolean variable is either true or false. The operations for
    a doctor agent include:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
- en: •
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: RandVisit(*$tr$*. This operation is implemented by rules.
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: •
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: IsTopicEnd(*$ln$* around this topic as input, and decides whether conversation
    surrounding this topic should continue or end. This operation is implemented by
    LLM.
  id: totrans-52
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: •
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: IsDialEnd(*$tr$* are visited, the operation will return true which marks the
    end of the diagnostic process. Else it will return false. This operation is implemented
    by rules.
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: •
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: ParseExp(*$t$* is the updated dynamic diagnosis tree. This operation is implemented
    by rules and LLM.
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: •
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: DupDetect(*$t$*. This operation is implemented by rules and LLM.
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: •
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: EmpathGen(*$ln$*. This operation is implemented by LLM.
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: •
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: PromptGen(*$ln$*. This operation is implemented by LLM.
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'The operations for a patient agent include:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
- en: •
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: TriggerExp(*$t$*. This operation is implemented by rules and LLM.
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: •
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: FicExpGen(*$g$* is the integrated patient information with real patient case
    and fictitious experience. This operation is implemented by LLM.
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The usage of these operations during agents interaction will be introduced in
    the next subsection.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
- en: Conversation Synthesis with Agents
  id: totrans-69
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The diagnostic conversation is synthesized by a doctor agent and a patient agent
    through role-playing LLMs. The doctor agent is under the guidance of the dynamic
    diagnosis tree. Initially, the dynamic diagnosis tree checks whether the current
    diagnostic topic should end. If affirmative, the doctor agent will turn to the
    next topic and check whether the future topics have been included in previous
    conversations. If not, the doctor agent will keep communicating with the patient
    around current topic. Then, if the patient talks about personal experience, the
    doctor agent will build the experience inquiry tree based on the patient response.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
- en: '| Dialogues | $\text{D}^{4}$ | CPsyCounD | Role-playing | MDD-5k^∗ |'
  id: totrans-71
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-72
  prefs: []
  type: TYPE_TB
- en: '| Total num | 1339 | 3134 | 100 | 5000 |'
  id: totrans-73
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-74
  prefs: []
  type: TYPE_TB
- en: '| Category | diagnosis | consultation | diagnosis | diagnosis |'
  id: totrans-75
  prefs: []
  type: TYPE_TB
- en: '| Illness | depression | / | / | over 25 |'
  id: totrans-76
  prefs: []
  type: TYPE_TB
- en: '| Avg. turns | 21.6 | 8.7 | 12.0 | 26.8 |'
  id: totrans-77
  prefs: []
  type: TYPE_TB
- en: '| Avg. words #dial | 776 | 622.3 | 1715.0 | 6906.8 |'
  id: totrans-78
  prefs: []
  type: TYPE_TB
- en: '| Avg. words #doc | 20.4 | 49.7 | 88.1 | 91.1 |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
- en: '| Avg. words #pat | 14.9 | 30.4 | 47.6 | 162.8 |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
- en: '| Labels | ✗ | ✗ | / | ✓ |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
- en: 'Table 1: Statistics of different datasets. Avg. words #dial measures the average
    Chinese words per dialogue. Avg. words #doc and Avg. words #pat measure the average
    Chinese words per doctor’s response and patient’s response.'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
- en: 'The doctor agent generates responses through operation DocGen(*$ln$*. To further
    improve the diversity of generated conversations, we design different diagnosis
    habits for the doctor agent. The diagnostic habits contain age, gender, specialties,
    empathetic dialogue, diagnosis speed, explanation, and serve as persona prompt
    for the doctor agent. An example is shown in Figure [2](#Sx3.F2 "Figure 2 ‣ Fictitious
    Patient Experience Generation ‣ Methodology ‣ MDD-5k: A New Diagnostic Conversation
    Dataset for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents"). Specifically,
    the factors of empathetic dialogue and diagnosis speed exert huger effect on the
    doctor’s response. If the doctor agent is accustomed to communicate empathetically,
    the EmpathGen operation introduced before will replace the DocGen operation for
    generation. If the diagnosis speed is set as fast, the doctor agent will speed
    up the diagnosis process, which leads to shorter conversations.'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/1b5d753886e11900da60f51edeeffcec.png)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3: Patient information of the MDD-5 dataset.'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
- en: 'As to the patient agent, since the doctor agent leads the diagnosis process,
    the patient agent is designed to passively respond to the doctor based on known
    knowledge, including the patient case and generated fictitious experience. The
    operation PatGen(*$ln$*. The whole process of the multi-agent framework for diagnostic
    conversation simulation of mental disorders is detailedly shown through pseudo-code
    in Algorithm [1](#algorithm1 "In Appendix A Pseudo-code of the Proposed Framework
    ‣ MDD-5k: A New Diagnostic Conversation Dataset for Mental Disorders Synthesized
    via Neuro-Symbolic LLM Agents") in the Appendix.'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
- en: Experiment Setup
  id: totrans-87
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Implemention Details
  id: totrans-88
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The MDD-5k dataset is generated through the neuro-symbolic multi-agent framework
    with 1000 real patient cases. 5 different fictitious patient experiences are generated
    by OpenAI gpt-4o (OpenAI [2024](#bib.bib11)) based on 1 patient case, which leads
    to a total of 5000 experiences corresponding to the 5000 conversations in the
    dataset. We also create 5 doctors with different diagnosis habits, and 1 doctor
    will be randomly picked for generating each conversation in the dataset. Since
    the patient cases are still under the ethical review of psychiatric hospital,
    we randomly select 20 available patient cases and generate 100 conversations by
    gpt-4o for evaluation. The other 4900 conversations are currently generated by
    Qwen2-72B-Instruct (Yang et al. [2024a](#bib.bib23)) deployed on NVIDIA A100-80G
    GPUs locally. We will apply gpt-4o for generating the rest 4900 conversations
    when the ethical review finishes.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
- en: Compared Datasets
  id: totrans-90
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: As the evaluators’ native language is Chinese, only Chinese datasets are considered
    to ensure the quality of human evaluation. Three datasets are selected as compared
    baselines.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
- en: •
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: $\textbf{D}^{4}$ (Yao et al. [2022](#bib.bib25)) is a Chinese dialogue dataset
    for depression diagnosis, which is conducted by collecting conversations between
    professional psychiatrists.
  id: totrans-93
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: •
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: CPsyCounD (Zhang et al. [2024](#bib.bib26)) is a synthetic consultation dataset
    covering nine representative topics (e.g. marriage, education) and seven classic
    schools of psychological counseling (e.g. cognitive behavioral therapy).
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: •
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Direct Role-playing: To test the effectiveness of our designed multi-agent
    diagnostic conversation simulation framework, we directly apply role-playing LLMs
    (gpt-4o) and generate 100 conversations with the same patient cases and prompts
    as MDD-5k for evaluation.'
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'We haven’t found any available open-source mental disorders diagnosis datasets
    besides $\text{D}^{4}$, so the consultation dataset CPsyCounD is chosen as baseline,
    which can also demonstrate the differences between psychological counseling and
    diagnostic conversation. Statistics of these datasets are shown in Table [1](#Sx3.T1
    "Table 1 ‣ Conversation Synthesis with Agents ‣ Methodology ‣ MDD-5k: A New Diagnostic
    Conversation Dataset for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents").
    We randomly select 100 samples from each dataset for evaluation.'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
- en: '| Dataset | Professionalism | Communication (i) | Communication (ii) | Fluency
    (i) | Fluency (ii) | Similarity | Safety |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-100
  prefs: []
  type: TYPE_TB
- en: '| $\text{D}^{4}$ | 6.6 | 7.9 | 7.8 | 8.6 | 8.2 | 7.2 | 0 |'
  id: totrans-101
  prefs: []
  type: TYPE_TB
- en: '| CPsyCounD | 5.2 | 5.4 | 5.6 | 8.4 | 8.0 | 4.4 | 0 |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
- en: '| Role-playing | 6.8 | 6.6 | 7.2 | 6.9 | 5.5 | 6.4 | 0 |'
  id: totrans-103
  prefs: []
  type: TYPE_TB
- en: '| MDD-5k | 8.6 | 8.3 | 8.4 | 8.6 | 7.6 | 8.8 | 0 |'
  id: totrans-104
  prefs: []
  type: TYPE_TB
- en: 'Table 2: Human evaluation of different datasets.'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
- en: Evaluation Metrics
  id: totrans-106
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Human evaluation is conducted to fairly assess the quality of different datasets.
    Specifically, we design seven major metrics encompassing five different perspectives:
    professionalism, communication, fluency, similarity and safety. Professionalism
    measures if the psychiatrist can effectively collect all the required patient
    symptoms for diagnosis. Communication measures the psychiatrist’s communication
    skills and the patient’s response, including (i) Can the psychiatrist proactively
    ask patient for gathering key information and establish effective communication
    with the patients so that they are willing to share more information (e.g. daily
    life, past experiences) related to the mental illness problems? (ii) Can the patient
    engage in the diagnostic process and tell related information? Fluency contains
    two aspects of criterion: (i) Are the generated conversations fluent in terms
    of both sentence and topic flow? (ii) Is there any repetitive content or topic
    in the conversation? Similarity measures how similar is the synthesized conversation
    to real scenarios. The evaluators are guided to score from 1 to 10\. A higher
    score indicates better performance. Safety measures the leakage of private information
    (e.g. address). 0 means safe generation while 1 indicates privacy leakage.'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 进行人类评估以公平地评估不同数据集的质量。具体来说，我们设计了七个主要指标，涵盖五个不同的角度：**专业性**、**沟通**、**流畅性**、**相似性**和**安全性**。**专业性**衡量精神科医生是否能够有效地收集所有所需的患者症状以进行诊断。**沟通**衡量精神科医生的沟通技巧和患者的反应，包括（i）精神科医生是否能够主动询问患者以收集关键信息并与患者建立有效的沟通，使他们愿意分享更多与精神疾病问题相关的信息（如日常生活、过去经历）？（ii）患者是否能够参与诊断过程并提供相关信息？**流畅性**包含两个方面的标准：（i）生成的对话在句子和话题流畅性方面是否流畅？（ii）对话中是否存在重复的内容或话题？**相似性**衡量合成对话与真实场景的相似程度。评估人员被指导评分从1到10\.
    分数越高表示表现越好。**安全性**衡量私人信息的泄露（例如地址）。0表示安全生成，而1表示隐私泄露。
- en: Five annotators are employed for the human evaluation. Three of the them are
    professional psychiatrists who have years of clinical experience. The other two
    annotators are experienced in mental health data processing. The evaluation is
    conducted in a double-blind manner.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 五名注释员参与了人类评估。其中三名是拥有多年临床经验的专业精神科医生，另外两名注释员在心理健康数据处理方面有经验。评估以双盲方式进行。
- en: Results and Evaluation
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 结果与评估
- en: Statistical Analysis of MDD-5k
  id: totrans-110
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: MDD-5k的统计分析
- en: 'The Figure [3](#Sx3.F3 "Figure 3 ‣ Conversation Synthesis with Agents ‣ Methodology
    ‣ MDD-5k: A New Diagnostic Conversation Dataset for Mental Disorders Synthesized
    via Neuro-Symbolic LLM Agents") shows detailed patient information of the MDD-5k
    dataset. 65% of the patients are female and 35% are male. About 90% of the patients
    are between 20 and 40 years old. 15% of the patients report a family history of
    mental disorders and 14% of the patients have relevant physical illness. Patients
    suffer from depressive disorder (F32) and anxiety disorders (F41) makes up of
    75% conversations of the dataset. Specifically, 51% of the patients in depressive
    disorder are diagnosed with depressive state (F32.901), and 35% of the patients
    are diagnosed with depressive episode (F32.900). 47% of the anxiety disorder patients
    are diagnosed with anxiety and depression state (F41.200x002) and 26% are diagnosed
    with anxiety state (F41.101). We also show details of other disorders which accounts
    for 11% of the whole dataset in Figure [3](#Sx3.F3 "Figure 3 ‣ Conversation Synthesis
    with Agents ‣ Methodology ‣ MDD-5k: A New Diagnostic Conversation Dataset for
    Mental Disorders Synthesized via Neuro-Symbolic LLM Agents")(h). All the disease
    code follows standards in the second version of Chinese clinical classification
    of disease and codes. If a patient is diagnosed with multiple diseases, these
    diseases are counted separately.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
- en: 'The statistical details of MDD-5k and other compared datasets are presented
    in Table [1](#Sx3.T1 "Table 1 ‣ Conversation Synthesis with Agents ‣ Methodology
    ‣ MDD-5k: A New Diagnostic Conversation Dataset for Mental Disorders Synthesized
    via Neuro-Symbolic LLM Agents"). The MDD-5k dataset contains diagnostic conversations
    covering over 25 mental health illnesses. It includes 5000 dialogues, each comprising
    an averaged of 6906.8 Chinese words which is almost ten times the compared datasets.
    The average dialogue turns are 26.8, slightly longer than the 21.6 turns of $\text{D}^{4}$.
    It is also a labelled dataset with diagnosis result from professional psychiatrist
    as label for each conversation. Compared to the direct role-playing method without
    applying the multi-agent framework, the generated doctor response is about the
    same length. But the dialogue turns and patient response of MDD-5k are significantly
    longer, highlighting the effectiveness of our proposed framework in diagnostic
    conversation simulation. In the case study presented in Appendix, we show three
    complete samples of conversation with corresponding doctor persona, patient case,
    fictitious patient experience and the dynamic diagnosis tree.'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
- en: Human Evaluation
  id: totrans-113
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The results of human evaluation are presented in Table [2](#Sx4.T2 "Table 2
    ‣ Compared Datasets ‣ Experiment Setup ‣ MDD-5k: A New Diagnostic Conversation
    Dataset for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents"). MDD-5k
    exhibits superior performance across six major metrics. The evaluation scores
    on professionalism and similarity are significantly higher than other datasets,
    suggesting that our synthesized diagnostic conversations can mirror real scenarios
    of diagnosis to some extent. The communication quality of both doctor and patient
    is also impressive. Despite these strengths, MDD-5k does include some repetitive
    content, occasionally leading to less fluent conversations. The $\text{D}^{4}$
    is that its conversations are too brief and only include symptom inquiries and
    short responses.'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '人工评估结果见表 [2](#Sx4.T2 "Table 2 ‣ Compared Datasets ‣ Experiment Setup ‣ MDD-5k:
    A New Diagnostic Conversation Dataset for Mental Disorders Synthesized via Neuro-Symbolic
    LLM Agents")。MDD-5k 在六个主要指标上表现优越。在专业性和相似性上的评估分数显著高于其他数据集，表明我们的合成诊断对话在一定程度上可以反映真实的诊断场景。医生和病人的沟通质量也很出色。尽管如此，MDD-5k
    确实包含一些重复内容，偶尔导致对话不够流畅。$\text{D}^{4}$ 的问题在于其对话过于简短，仅包括症状询问和简短回复。'
- en: An ablation study is conducted. The performance of the direct role-playing method
    is significantly worse compared to the neuro-symbolic multi-agent framework, particularly
    in terms of fluency and communication skills. This finding confirms that directly
    applying large language models for diagnostic conversation generation will lead
    to poor outcomes. The evaluation also shows the distinct differences between diagnostic
    conversation and psychological counseling. The evaluation scores of CPsyCounD
    are notably low, especially for the professionalism and similarity metric. Psychological
    counseling prioritizes comfort and healing with different therapies, while diagnostic
    conversation focuses on acquiring symptoms to arrive at a final diagnosis result.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 进行了一项消融研究。与神经-符号多智能体框架相比，直接角色扮演方法的表现显著较差，特别是在流畅性和沟通技巧方面。这一发现证实了直接应用大型语言模型进行诊断对话生成将导致不良结果。评估还显示了诊断对话和心理咨询之间的明显区别。CPsyCounD
    的评估分数特别低，尤其是在专业性和相似性指标上。心理咨询优先考虑舒适感和治疗，而诊断对话则专注于获取症状以得出最终的诊断结果。
- en: Conclusion and Future Work
  id: totrans-116
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 结论与未来工作
- en: We design a neuro-symbolic multi-agent framework for synthesizing diagnostic
    conversation of mental disorders, and apply it for building the first and largest
    open-source Chinese mental disorders diagnosis dataset with diagnosis results
    as labels. The framework features controllable one-to-many patientcase-to-dialogue
    generation. Conversation between a doctor agent and a patient agent is guided
    by a dynamic diagnosis tree. We also apply several techniques to improve the diversity
    of generated conversations. Human evaluation shows the quality of the proposed
    MDD-5k dataset exceeds existing relevant datasets on seven indicators. The MDD-5k
    dataset is believed to contribute to a wide range of downstream tasks like mental
    disorders classification, mental disorders diagnosis assistant training, etc.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 我们设计了一个神经-符号多智能体框架，用于合成心理疾病的诊断对话，并将其应用于构建第一个也是最大的开源中文心理疾病诊断数据集，其中诊断结果作为标签。该框架具有可控的一对多病人案例到对话生成的特性。医生智能体与病人智能体之间的对话由动态诊断树引导。我们还应用了几种技术来提高生成对话的多样性。人工评估表明，提出的
    MDD-5k 数据集在七个指标上超越了现有相关数据集。相信 MDD-5k 数据集将对心理疾病分类、心理疾病诊断助手训练等广泛的下游任务做出贡献。
- en: 'The primary limitations of this work lie in three points: (i) The discrepancy
    between synthesized conversations and actual medical diagnostics remains a significant
    challenge. Large language models often struggle to interpret the full meaning
    of patient responses when they encapsulate diverse information aspects, consequently
    leading to redundant symptom inquiries. We are exploring various prompt strategies
    to mitigate this issue. (ii) We mainly design dynamic diagnosis tree for depression
    (F32), anxiety (F41), sleep disorders (F51), childhood emotional disorder (F98),
    and unspecified mood disorder (F39), which covers over 85% conversations of MDD-5k.
    Nevertheless, some mental health conditions (e.g. obsessive-compulsive disorder
    (F42)) remain inadequately addressed, resulting in sub-optimal synthesized diagnostic
    conversation. Efforts are underway to expand our synthesis frameworks by designing
    more diagnosis trees to encompass a broader spectrum of mental disorders. (iii)
    Only Chinese version of the MDD-5k dataset is proposed. We plan to translate it
    into English in the future.'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
- en: Ethics Statement
  id: totrans-119
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The collection of patient cases was conducted at the Shanghai Mental Health
    Center. All patients were informed that their information would be collected and
    used exclusively for research purposes. As detailed in the Patient Cases Preprocessing
    section, all data masking procedures strictly follow the Chinese information security
    technology guidelines for health data security (GB/T 39725-2020). Currently, the
    patient cases and the synthesized diagnostic conversation dataset, MDD-5k, are
    undergoing an ethics review at the Shanghai Mental Health Center. We plan to release
    the MDD-5k dataset for research purposes only after the ethics review finishes.
    To prevent any potential privacy data leakage, all experiments are conducted on
    servers located within the Shanghai Mental Health Center.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
- en: Acknowledgments
  id: totrans-121
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We are grateful for the GPU resources and accessible OpenAI API key provided
    by Shanda Group. Chen Frontier Lab for AI and Mental Health, Tianqiao and Chrissy
    Chen Institute leads the project of collecting mental disorders patient cases
    by cooperating with Shanghai Mental Health Center. We also appreciate the support
    and discussion from psychiatrists in Shanghai Mental Health Center.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
- en: References
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'American Psychiatric Association et al. (2013) American Psychiatric Association,
    D.; et al. 2013. *Diagnostic and statistical manual of mental disorders: DSM-5*,
    volume 5. American psychiatric association Washington, DC.'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Ben Abacha et al. (2023) Ben Abacha, A.; Yim, W.-w.; Fan, Y.; and Lin, T. 2023.
    An Empirical Study of Clinical Note Generation from Doctor-Patient Encounters.
    In Vlachos, A.; and Augenstein, I., eds., *Proceedings of the 17th Conference
    of the European Chapter of the Association for Computational Linguistics*, 2291–2302\.
    Dubrovnik, Croatia: Association for Computational Linguistics.'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chen et al. (2023a) Chen, S.; Wu, M.; Zhu, K. Q.; Lan, K.; Zhang, Z.; and Cui,
    L. 2023a. LLM-empowered chatbots for psychiatrist and patient simulation: application
    and evaluation. *arXiv preprint arXiv:2305.13614*.'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chen et al. (2023b) Chen, Y.; Xing, X.; Lin, J.; Zheng, H.; Wang, Z.; Liu,
    Q.; and Xu, X. 2023b. SoulChat: Improving LLMs’ Empathy, Listening, and Comfort
    Abilities through Fine-tuning with Multi-turn Empathy Conversations. In Bouamor,
    H.; Pino, J.; and Bali, K., eds., *Findings of the Association for Computational
    Linguistics: EMNLP 2023*, 1170–1183\. Singapore: Association for Computational
    Linguistics.'
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: EmoLLM (2024) EmoLLM. 2024. EmoLLM.
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: First (2014) First, M. B. 2014. Structured clinical interview for the DSM (SCID).
    *The encyclopedia of clinical psychology*, 1–6.
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'He et al. (2020) He, X.; Chen, S.; Ju, Z.; Dong, X.; Fang, H.; Wang, S.; Yang,
    Y.; Zeng, J.; Zhang, R.; Zhang, R.; et al. 2020. Meddialog: Two large-scale medical
    dialogue datasets. *arXiv preprint arXiv:2004.03329*.'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Li et al. (2023) Li, Y.; Li, Z.; Zhang, K.; Dan, R.; Jiang, S.; and Zhang,
    Y. 2023. Chatdoctor: A medical chat model fine-tuned on a large language model
    meta-ai (llama) using medical domain knowledge. *Cureus*, 15(6).'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Liu et al. (2023) Liu, J. M.; Li, D.; Cao, H.; Ren, T.; Liao, Z.; and Wu, J.
    2023. Chatcounselor: A large language models for mental health support. *arXiv
    preprint arXiv:2309.15461*.'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Liu et al. (2021) Liu, S.; Zheng, C.; Demasi, O.; Sabour, S.; Li, Y.; Yu, Z.;
    Jiang, Y.; and Huang, M. 2021. Towards Emotional Support Dialog Systems. In Zong,
    C.; Xia, F.; Li, W.; and Navigli, R., eds., *Proceedings of the 59th Annual Meeting
    of the Association for Computational Linguistics and the 11th International Joint
    Conference on Natural Language Processing (Volume 1: Long Papers)*, 3469–3483\.
    Online: Association for Computational Linguistics.'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'OpenAI (2024) OpenAI. 2024. Introducing gpt-4o: our fastest and most affordable
    flagship model.'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Organization (2004) Organization, W. H. 2004. *International Statistical Classification
    of Diseases and related health problems: Alphabetical index*, volume 3. World
    Health Organization.'
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Organization et al. (2018) Organization, W. H.; et al. 2018. ICD-11 for mortality
    and morbidity statistics (2018).
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Organization et al. (2022) Organization, W. H.; et al. 2022. Mental health
    and COVID-19: early evidence of the pandemic’s impact: scientific brief, 2 March
    2022. Technical report, World Health Organization.'
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Ouyang et al. (2022) Ouyang, L.; Wu, J.; Jiang, X.; Almeida, D.; Wainwright,
    C.; Mishkin, P.; Zhang, C.; Agarwal, S.; Slama, K.; Ray, A.; et al. 2022. Training
    language models to follow instructions with human feedback. *Advances in neural
    information processing systems*, 35: 27730–27744.'
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Qiu et al. (2024) Qiu, H.; He, H.; Zhang, S.; Li, A.; and Lan, Z. 2024. SMILE:
    Single-turn to Multi-turn Inclusive Language Expansion via ChatGPT for Mental
    Health Support. arXiv:2305.00450.'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Sun et al. (2021) Sun, H.; Lin, Z.; Zheng, C.; Liu, S.; and Huang, M. 2021.
    PsyQA: A Chinese Dataset for Generating Long Counseling Text for Mental Health
    Support. arXiv:2106.01702.'
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Touvron et al. (2023) Touvron, H.; Martin, L.; Stone, K.; Albert, P.; Almahairi,
    A.; Babaei, Y.; Bashlykov, N.; Batra, S.; Bhargava, P.; Bhosale, S.; et al. 2023.
    Llama 2: Open foundation and fine-tuned chat models. *arXiv preprint arXiv:2307.09288*.'
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Tu et al. (2024) Tu, T.; Palepu, A.; Schaekermann, M.; Saab, K.; Freyberg, J.;
    Tanno, R.; Wang, A.; Li, B.; Amin, M.; Tomasev, N.; et al. 2024. Towards conversational
    diagnostic ai. *arXiv preprint arXiv:2401.05654*.
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Wang (2024) Wang, H. L. 2024. efaqa-corpus-raw.
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Wang et al. (2024a) Wang, J.; Yao, Z.; Yang, Z.; Zhou, H.; Li, R.; Wang, X.;
    Xu, Y.; and Yu, H. 2024a. NoteChat: A Dataset of Synthetic Doctor-Patient Conversations
    Conditioned on Clinical Notes. arXiv:2310.15959.'
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Wang et al. (2024b) Wang, R.; Milani, S.; Chiu, J. C.; Zhi, J.; Eack, S. M.;
    Labrum, T.; Murphy, S. M.; Jones, N.; Hardy, K.; Shen, H.; Fang, F.; and Chen,
    Z. Z. 2024b. PATIENT-$\Psi$: Using Large Language Models to Simulate Patients
    for Training Mental Health Professionals. arXiv:2405.19660.'
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Yang et al. (2024a) Yang, A.; Yang, B.; Hui, B.; Zheng, B.; Yu, B.; Zhou, C.;
    Li, C.; Li, C.; Liu, D.; Huang, F.; Dong, G.; Wei, H.; Lin, H.; Tang, J.; Wang,
    J.; Yang, J.; Tu, J.; Zhang, J.; Ma, J.; Xu, J.; Zhou, J.; Bai, J.; He, J.; Lin,
    J.; Dang, K.; Lu, K.; Chen, K.; Yang, K.; Li, M.; Xue, M.; Ni, N.; Zhang, P.;
    Wang, P.; Peng, R.; Men, R.; Gao, R.; Lin, R.; Wang, S.; Bai, S.; Tan, S.; Zhu,
    T.; Li, T.; Liu, T.; Ge, W.; Deng, X.; Zhou, X.; Ren, X.; Zhang, X.; Wei, X.;
    Ren, X.; Fan, Y.; Yao, Y.; Zhang, Y.; Wan, Y.; Chu, Y.; Liu, Y.; Cui, Z.; Zhang,
    Z.; and Fan, Z. 2024a. Qwen2 Technical Report. *arXiv preprint arXiv:2407.10671*.
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Yang et al. (2024b) Yang, K.; Zhang, T.; Kuang, Z.; Xie, Q.; Huang, J.; and
    Ananiadou, S. 2024b. MentaLLaMA: Interpretable Mental Health Analysis on Social
    Media with Large Language Models. In *Proceedings of the ACM on Web Conference
    2024*, volume 35 of *WWW ’24*, 4489–4500\. ACM.'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Yao et al. (2022) Yao, B.; Shi, C.; Zou, L.; Dai, L.; Wu, M.; Chen, L.; Wang,
    Z.; and Yu, K. 2022. D4: a Chinese Dialogue Dataset for Depression-Diagnosis-Oriented
    Chat. In Goldberg, Y.; Kozareva, Z.; and Zhang, Y., eds., *Proceedings of the
    2022 Conference on Empirical Methods in Natural Language Processing*, 2438–2459\.
    Abu Dhabi, United Arab Emirates: Association for Computational Linguistics.'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Zhang et al. (2024) Zhang, C.; Li, R.; Tan, M.; Yang, M.; Zhu, J.; Yang, D.;
    Zhao, J.; Ye, G.; Li, C.; Hu, X.; et al. 2024. CPsyCoun: A Report-based Multi-turn
    Dialogue Reconstruction and Evaluation Framework for Chinese Psychological Counseling.
    *arXiv preprint arXiv:2405.16433*.'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Appendix A Pseudo-code of the Proposed Framework
  id: totrans-150
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'In this section, we detailed explain the multi-agent framework for diagnostic
    conversation simulation through pseudo-code. As illustrated in Algorithm [1](#algorithm1
    "In Appendix A Pseudo-code of the Proposed Framework ‣ MDD-5k: A New Diagnostic
    Conversation Dataset for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents"),
    the doctor agent, patient agent and tool agent are initialized with large language
    models. The whole process is guided by the tool agent. When the diagnostic conversation
    finishes, the diagnosis result from patient case will be appended to the dialogue
    history as label.'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们通过伪代码详细解释了用于诊断对话模拟的多智能体框架。如算法[1](#algorithm1 "附录A 提出的框架伪代码 ‣ MDD-5k：一种通过神经符号LLM智能体合成的心理障碍诊断对话数据集")所示，医生智能体、患者智能体和工具智能体都使用大型语言模型进行初始化。整个过程由工具智能体引导。当诊断对话结束时，患者病例的诊断结果将作为标签附加到对话历史中。
- en: '1 Initialize: DocAgent, PatAgent, ToolAgent with LLM. *ddt*: Tree with predefined
    dynamic diagnosis tree. *exp_kg*: Graph with predefined knowledge graph. *cur_topic*:
    LNode with None. *dial_hist*, *topic_hist*: Text with empty list. *pat_info*:
    Text with patient case. *treatment*: Text with treatment from patient case;2 while **not*
    *ToolAgent*.*IsDialEnd**(*ddt*)** do3       if *cur_topic is None* then4            
    *cur_topic* $\leftarrow$ PatAgent.PatGen(ToolAgent.PromptGen(*cur_topic*), *dial_hist*,
    *pat_info*);42                   *dial_hist*.append(*pat_resp*), *topic_hist*.append(*pat_resp*);43            44      45*dial_hist*.append(*treatment*);46
    return *dial_hist*;'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 1 初始化：DocAgent、PatAgent、ToolAgent 使用LLM。*ddt*：具有预定义动态诊断树的树。*exp_kg*：具有预定义知识图的图。*cur_topic*：LNode
    为空。*dial_hist*、*topic_hist*：文本为空列表。*pat_info*：文本为患者病例。*treatment*：文本为患者病例中的治疗；2
    当**ToolAgent**.*IsDialEnd**(*ddt*)** 仍未结束时3       如果 *cur_topic is None* 则4            
    *cur_topic* $\leftarrow$ PatAgent.PatGen(ToolAgent.PromptGen(*cur_topic*), *dial_hist*，*pat_info*)；42                  
    *dial_hist*.append(*pat_resp*)，*topic_hist*.append(*pat_resp*)；43            44      45*dial_hist*.append(*treatment*)；46
    返回 *dial_hist*；
- en: Algorithm 1 The neuro-symbolic multi-agent framework for synthesizing diagnostic
    conversation of mental disorders
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 算法1 神经符号多智能体框架用于合成心理障碍的诊断对话
- en: Appendix B Case Study
  id: totrans-154
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录B 案例研究
- en: 'We present three cases of the synthesized diagnostic conversations in MDD-5k,
    as well as all the material for carrying out the conversation simulation, including
    patient case, doctor prompt, diagnostic topic shift, and generated fictitious
    patient experience. Diagnostic conversation 1 and 2 are generated with the same
    patient case 1 to highlight our one-to-many patientcase-to-dialogue framework
    is capable of generating diverse conversation. Dialogue conversation 3 is generate
    with another patient case 2. The red words are diagnosis result, namely the label
    for each conversation. Both Chinese and English samples are provided. As to the
    Chinese version, Figure [4](#A3.F4 "Figure 4 ‣ Appendix C Feedback from Psychiatrists
    ‣ MDD-5k: A New Diagnostic Conversation Dataset for Mental Disorders Synthesized
    via Neuro-Symbolic LLM Agents"), Figure [8](#A3.F8 "Figure 8 ‣ Appendix C Feedback
    from Psychiatrists ‣ MDD-5k: A New Diagnostic Conversation Dataset for Mental
    Disorders Synthesized via Neuro-Symbolic LLM Agents") and Figure [11](#A3.F11
    "Figure 11 ‣ Appendix C Feedback from Psychiatrists ‣ MDD-5k: A New Diagnostic
    Conversation Dataset for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents")
    show the patient cases and other related material. Figure [5](#A3.F5 "Figure 5
    ‣ Appendix C Feedback from Psychiatrists ‣ MDD-5k: A New Diagnostic Conversation
    Dataset for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents") to Figure
    [7](#A3.F7 "Figure 7 ‣ Appendix C Feedback from Psychiatrists ‣ MDD-5k: A New
    Diagnostic Conversation Dataset for Mental Disorders Synthesized via Neuro-Symbolic
    LLM Agents") show diagnostic conversation 1\. Figure [9](#A3.F9 "Figure 9 ‣ Appendix
    C Feedback from Psychiatrists ‣ MDD-5k: A New Diagnostic Conversation Dataset
    for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents") and Figure [10](#A3.F10
    "Figure 10 ‣ Appendix C Feedback from Psychiatrists ‣ MDD-5k: A New Diagnostic
    Conversation Dataset for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents")
    show diagnostic conversation 2\. Figure [12](#A3.F12 "Figure 12 ‣ Appendix C Feedback
    from Psychiatrists ‣ MDD-5k: A New Diagnostic Conversation Dataset for Mental
    Disorders Synthesized via Neuro-Symbolic LLM Agents") to Figure [14](#A3.F14 "Figure
    14 ‣ Appendix C Feedback from Psychiatrists ‣ MDD-5k: A New Diagnostic Conversation
    Dataset for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents") show
    diagnostic conversation 3. As to the English version, Figure [15](#A3.F15 "Figure
    15 ‣ Appendix C Feedback from Psychiatrists ‣ MDD-5k: A New Diagnostic Conversation
    Dataset for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents") and Figure
    [16](#A3.F16 "Figure 16 ‣ Appendix C Feedback from Psychiatrists ‣ MDD-5k: A New
    Diagnostic Conversation Dataset for Mental Disorders Synthesized via Neuro-Symbolic
    LLM Agents"), Figure [22](#A3.F22 "Figure 22 ‣ Appendix C Feedback from Psychiatrists
    ‣ MDD-5k: A New Diagnostic Conversation Dataset for Mental Disorders Synthesized
    via Neuro-Symbolic LLM Agents") and Figure [23](#A3.F23 "Figure 23 ‣ Appendix
    C Feedback from Psychiatrists ‣ MDD-5k: A New Diagnostic Conversation Dataset
    for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents"), Figure [28](#A3.F28
    "Figure 28 ‣ Appendix C Feedback from Psychiatrists ‣ MDD-5k: A New Diagnostic
    Conversation Dataset for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents")
    and Figure [29](#A3.F29 "Figure 29 ‣ Appendix C Feedback from Psychiatrists ‣
    MDD-5k: A New Diagnostic Conversation Dataset for Mental Disorders Synthesized
    via Neuro-Symbolic LLM Agents") show the patient cases and other related material.
    Figure [17](#A3.F17 "Figure 17 ‣ Appendix C Feedback from Psychiatrists ‣ MDD-5k:
    A New Diagnostic Conversation Dataset for Mental Disorders Synthesized via Neuro-Symbolic
    LLM Agents") to Figure [21](#A3.F21 "Figure 21 ‣ Appendix C Feedback from Psychiatrists
    ‣ MDD-5k: A New Diagnostic Conversation Dataset for Mental Disorders Synthesized
    via Neuro-Symbolic LLM Agents") show diagnostic conversation 1\. Figure [24](#A3.F24
    "Figure 24 ‣ Appendix C Feedback from Psychiatrists ‣ MDD-5k: A New Diagnostic
    Conversation Dataset for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents")
    to Figure [27](#A3.F27 "Figure 27 ‣ Appendix C Feedback from Psychiatrists ‣ MDD-5k:
    A New Diagnostic Conversation Dataset for Mental Disorders Synthesized via Neuro-Symbolic
    LLM Agents") show diagnostic conversation 2\. Figure [30](#A3.F30 "Figure 30 ‣
    Appendix C Feedback from Psychiatrists ‣ MDD-5k: A New Diagnostic Conversation
    Dataset for Mental Disorders Synthesized via Neuro-Symbolic LLM Agents") to Figure
    [34](#A3.F34 "Figure 34 ‣ Appendix C Feedback from Psychiatrists ‣ MDD-5k: A New
    Diagnostic Conversation Dataset for Mental Disorders Synthesized via Neuro-Symbolic
    LLM Agents") show diagnostic conversation 3.'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
- en: Appendix C Feedback from Psychiatrists
  id: totrans-156
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: During human evaluation, psychiatrists also provide us feedback for the synthesized
    diagnostic conversation. The discussion between professional psychiatrists and
    us is listed.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
- en: •
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The patient response is so “sound and perfect”. In real diagnostic conversation,
    many mental disorders patients struggle to respond to the psychiatrists questions.
    For this issue, we are not sure whether a perfect patient answer or a poor but
    similar to real situation answer will benefit from the perspective of natural
    language processing.
  id: totrans-159
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: •
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The proportion of patients suffer from major depressive disorder is too small.
    The number of pediatric patients is also small.
  id: totrans-161
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: •
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Lack the role of companion (e.g. parent) which is quite common in real scenarios.
    This actually inspires us to design a multi-party dialogue system for dealing
    with diagnostic conversation simulation in the future.
  id: totrans-163
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: •
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Response from the doctor agent lacks proper explanation of symptoms to the patient.
    This is attribute to the poor mental health domain knowledge of large language
    models. Retrieve augmented generation (RAG) can be applied to alleviate this problem
    in the future.
  id: totrans-165
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: •
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The diagnostic process is not detailed. For example, the doctor agent merely
    ask if the patient can sleep well in the evening when consulting symptoms related
    to sleep. More details like insomnia onset time, frequency, aggravation or relief
    should be inquired. However, patient case contains rather limited information.
    So designing such detailed questions might lead to fictional reply from large
    language models.
  id: totrans-167
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: All the feedback is of great significance for future work in this domain.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/e7a7683aea09b326c9226b2039c380b6.png)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
- en: 'Figure 4: Chinese version of patient information and doctor persona for diagnostic
    conversation 1.'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/caf261be37c2805fdc1b39c18c8f4007.png)'
  id: totrans-171
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5: Part 1 of the Chinese synthesized diagnostic conversation 1.'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/4c587610ed5ea08d29543cdad5e7bd00.png)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
- en: 'Figure 6: Part 2 of the Chinese synthesized diagnostic conversation 1.'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/c8ae4a7449a99ed4e15c350bc6689f71.png)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
- en: 'Figure 7: Part 3 of the Chinese synthesized diagnostic conversation 1.'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/400468280445542cf4d7355dec8cf909.png)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
- en: 'Figure 8: Chinese version of patient information and doctor persona for diagnostic
    conversation 2.'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/55f32a91474495155a6aa4bcc4da48f8.png)'
  id: totrans-179
  prefs: []
  type: TYPE_IMG
- en: 'Figure 9: Part 1 of the Chinese synthesized diagnostic conversation 2.'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/bcd8b9dcc88645280f672b4d2bee86f4.png)'
  id: totrans-181
  prefs: []
  type: TYPE_IMG
- en: 'Figure 10: Part 2 of the Chinese synthesized diagnostic conversation 2.'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/53408b137c7e4a2376522c519592f71d.png)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
- en: 'Figure 11: Chinese version of patient information and doctor persona for diagnostic
    conversation 3.'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/84bebea32d7bbfb9db6ad6404a1f4733.png)'
  id: totrans-185
  prefs: []
  type: TYPE_IMG
- en: 'Figure 12: Part 1 of the Chinese synthesized diagnostic conversation 3.'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/6475050b0c38293b84c98cf7841f368f.png)'
  id: totrans-187
  prefs: []
  type: TYPE_IMG
- en: 'Figure 13: Part 2 of the Chinese synthesized diagnostic conversation 3.'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/ac608ef20d55949686904c05e6778d34.png)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
- en: 'Figure 14: Part 3 of the Chinese synthesized diagnostic conversation 3.'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/ee6c7be49a8066e02646936df314eaf5.png)'
  id: totrans-191
  prefs: []
  type: TYPE_IMG
- en: 'Figure 15: English version of patient information and doctor persona for diagnostic
    conversation 1.'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/9610e6b27d7b7c32a87a533b0e3e44e9.png)'
  id: totrans-193
  prefs: []
  type: TYPE_IMG
- en: 'Figure 16: English version of patient information and doctor persona for diagnostic
    conversation 1.'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/d4404f7f55fda9a32d6f9de2387d9b45.png)'
  id: totrans-195
  prefs: []
  type: TYPE_IMG
- en: 'Figure 17: Part 1 of the English synthesized diagnostic conversation 1.'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/a08d6fed54a77c238b91fbb3007ea658.png)'
  id: totrans-197
  prefs: []
  type: TYPE_IMG
- en: 'Figure 18: Part 2 of the English synthesized diagnostic conversation 1.'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/ec1d9a33b157fa11a0c0a0bda1723c94.png)'
  id: totrans-199
  prefs: []
  type: TYPE_IMG
- en: 'Figure 19: Part 3 of the English synthesized diagnostic conversation 1.'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/06d4a14b7250a11cd6a4e11be16b04ee.png)'
  id: totrans-201
  prefs: []
  type: TYPE_IMG
- en: 'Figure 20: Part 4 of the English synthesized diagnostic conversation 1.'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/400e5848de566131c3b109535c0d21af.png)'
  id: totrans-203
  prefs: []
  type: TYPE_IMG
- en: 'Figure 21: Part 5 of the English synthesized diagnostic conversation 1.'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/c68962e6350ce3a971bed086ae540356.png)'
  id: totrans-205
  prefs: []
  type: TYPE_IMG
- en: 'Figure 22: English version of patient information and doctor persona for diagnostic
    conversation 2.'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/ca725fb828885a6b57af5e2e9ebe85fb.png)'
  id: totrans-207
  prefs: []
  type: TYPE_IMG
- en: 'Figure 23: English version of patient information and doctor persona for diagnostic
    conversation 2.'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/0b5e3cfd79dfad4fd9e1644a7cfdd52c.png)'
  id: totrans-209
  prefs: []
  type: TYPE_IMG
- en: 'Figure 24: Part 1 of the English synthesized diagnostic conversation 2.'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/f07f9edc407f9a600ea3b74b9a9a23fb.png)'
  id: totrans-211
  prefs: []
  type: TYPE_IMG
- en: 'Figure 25: Part 2 of the English synthesized diagnostic conversation 2.'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/a3b46075a304c0b32a8f8f872163852c.png)'
  id: totrans-213
  prefs: []
  type: TYPE_IMG
- en: 'Figure 26: Part 3 of the English synthesized diagnostic conversation 2.'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/44e067e3868c317bd0071930362434d6.png)'
  id: totrans-215
  prefs: []
  type: TYPE_IMG
- en: 'Figure 27: Part 4 of the English synthesized diagnostic conversation 2.'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/ec6942b2c83d97705bdc8d7a69e0ad4a.png)'
  id: totrans-217
  prefs: []
  type: TYPE_IMG
- en: 'Figure 28: English version of patient information and doctor persona for diagnostic
    conversation 3.'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/62d048daee80ee786bc423780164a555.png)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
- en: 'Figure 29: English version of patient information and doctor persona for diagnostic
    conversation 3.'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/6299b3280040cd3e95c764c9c2e70299.png)'
  id: totrans-221
  prefs: []
  type: TYPE_IMG
- en: 'Figure 30: Part 1 of the English synthesized diagnostic conversation 3.'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/ed5b2cabedf082f6d5bab4edac1f639f.png)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
- en: 'Figure 31: Part 2 of the English synthesized diagnostic conversation 3.'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/94b68d1fee452a69aebc6c147b91418d.png)'
  id: totrans-225
  prefs: []
  type: TYPE_IMG
- en: 'Figure 32: Part 3 of the English synthesized diagnostic conversation 3.'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/4fa584689d5cd0e736f62dfbd59dffd6.png)'
  id: totrans-227
  prefs: []
  type: TYPE_IMG
- en: 'Figure 33: Part 4 of the English synthesized diagnostic conversation 3.'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
- en: '![Refer to caption](img/bdc6187e09cc0d6c134d1ddfeaaf0b4b.png)'
  id: totrans-229
  prefs: []
  type: TYPE_IMG
  zh: '![参考说明](img/bdc6187e09cc0d6c134d1ddfeaaf0b4b.png)'
- en: 'Figure 34: Part 5 of the English synthesized diagnostic conversation 3.'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 图 34：英文合成诊断对话 3 的第 5 部分。
